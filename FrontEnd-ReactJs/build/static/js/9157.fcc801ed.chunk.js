"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[9157],{39157:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(65964),s=t(47825),a=t(76025),i=t(37903),c=t(59519),l=t(74165),d=t(15861),u=t(21933),o=t(58467),h=(t(47313),t(62563)),x=t(75627),m=t(32703),p=t(73428),f=t(35898),j=t(61113),Z=t(66212),b=t(9506),v=t(9019),g=t(51405),w=t(68492),k=t(23330),D=t(68986),C=t(54308),y=t(84208),E=t(75166),P=t(46417),S={name:"",description:"",lessons:[],tests:[],startDate:new Date,endDate:new Date};function N(){var e=(0,o.s0)(),n=(0,D.Ds)().enqueueSnackbar,t=u.Ry().shape({name:u.Z_().required("Name is required"),startDate:u.hT().typeError("start date is required"),endDate:u.hT().typeError("End date is required")}),r=S,s=(0,x.cI)({resolver:(0,h.X)(t),defaultValues:r}),i=(s.reset,s.watch),c=s.setValue,N=s.handleSubmit,q=s.formState.isSubmitting,T=i("lessons"),_=i("tests"),L=function(){var t=(0,d.Z)((0,l.Z)().mark((function t(r){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,w.qH)(r);case 3:n("Create success!"),e(a.vB.class.list),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),n(t.t0.message||JSON.stringify(t.t0),{variant:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),I=function(e){var n=T;n.includes(e.id)?n=n.filter((function(n){return n!==e.id})):n.push(e.id),c("lessons",n)},B=function(e){var n=_;n.includes(e.id)?n=n.filter((function(n){return n!==e.id})):n.push(e.id),c("tests",n)};return(0,P.jsx)(C.ZP,{methods:s,onSubmit:N(L),children:(0,P.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,P.jsxs)(v.ZP,{item:!0,xs:12,md:8,marginTop:-3,children:[(0,P.jsx)(p.Z,{sx:{p:3,my:3},children:(0,P.jsxs)(f.Z,{spacing:3,children:[(0,P.jsx)(C.au,{name:"name",label:"Enter name"}),(0,P.jsx)(C.au,{name:"description",label:"Enter description"}),(0,P.jsx)(k.Z,{name:"startDate",label:"Enter start date"}),(0,P.jsx)(k.Z,{name:"endDate",label:"Enter end date"})]})}),(0,P.jsx)(p.Z,{sx:{p:3,my:2},children:(0,P.jsx)(f.Z,{spacing:3,children:(0,P.jsxs)(f.Z,{spacing:1,children:[(0,P.jsx)(j.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"List Lesson"}),(0,P.jsx)(f.Z,{direction:"row",spacing:3,children:T.map((function(e){return(0,P.jsx)(Z.Z,{clickable:!0,variant:"filled",label:e,color:"success"},e)}))}),(0,P.jsx)(b.Z,{sx:{height:590},children:(0,P.jsx)(y.E,{gridProps:{onRowClick:I}})})]})})}),(0,P.jsx)(p.Z,{sx:{p:3,my:2},children:(0,P.jsx)(f.Z,{spacing:3,children:(0,P.jsxs)(f.Z,{spacing:1,children:[(0,P.jsx)(j.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"List Test"}),(0,P.jsx)(f.Z,{direction:"row",spacing:3,children:_.map((function(e){return(0,P.jsx)(Z.Z,{clickable:!0,variant:"filled",label:e,color:"success"},e)}))}),(0,P.jsx)(b.Z,{sx:{height:590},children:(0,P.jsx)(E.L,{gridProps:{onRowClick:B}})})]})})})]}),(0,P.jsxs)(v.ZP,{item:!0,xs:12,md:4,children:[(0,P.jsx)(p.Z,{sx:{p:3},children:(0,P.jsx)(f.Z,{spacing:3,children:(0,P.jsx)(C.Cc,{fullWidth:!0,name:"level",label:"Select Level",InputLabelProps:{shrink:!0},children:["A1","A2","B1","B2","C1","C2"].map((function(e){return(0,P.jsx)(g.Z,{value:e,children:e},e)}))})})}),(0,P.jsx)(f.Z,{direction:"row",spacing:1.5,sx:{mt:3},children:(0,P.jsx)(m.Z,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:q,children:"Create Class"})})]})]})})}function q(){var e=(0,c.K$)().themeStretch;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.ql,{children:(0,P.jsx)("title",{children:" Create New Class "})}),(0,P.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,P.jsx)(i.Z,{heading:"Create a new Class",links:[{name:"Dashboard",href:a.vB.root},{name:"Class",href:a.vB.class.root},{name:"Create"}]}),(0,P.jsx)(N,{})]})]})}},1857:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(1413),s=t(29439),a=t(47313),i=t(68492),c=t(31126),l=t(45987),d=t(63130),u=t(46417),o=["data"],h=[{field:"id",headerName:"ID",width:80},{field:"name",headerName:"Name",width:160},{field:"tasks",headerName:"Tasks ID",flex:1,valueGetter:function(e){return e.row.tasks.join(",")}},{field:"publicDate",headerName:"Public Date",width:100},{field:"endDate",headerName:"End Date",width:100},{field:"time",headerName:"Time (minutes)",width:100},{field:"action",headerName:" ",width:80,align:"right",sortable:!1,disableColumnMenu:!0}];function x(e){var n=e.data,t=(0,l.Z)(e,o);return(0,u.jsx)(d._,(0,r.Z)((0,r.Z)({},t),{},{columns:h,rows:n}))}var m=function(e){var n=e.gridProps,t=(0,a.useState)([]),l=(0,s.Z)(t,2),d=l[0],o=l[1];return(0,a.useEffect)((function(){(0,i.sp)().then((function(e){o(e.data)}))}),[]),d.length<1?(0,u.jsx)(c.hM,{}):(0,u.jsx)(x,(0,r.Z)({data:d},n))}},75166:function(e,n,t){t.d(n,{N:function(){return P},L:function(){return S.Z}});var r=t(74165),s=t(15861),a=t(29439),i=t(21933),c=t(58467),l=t(47313),d=t(62563),u=t(75627),o=t(32703),h=t(73428),x=t(35898),m=t(61113),p=t(66212),f=t(9506),j=t(9019),Z=t(51405),b=t(23330),v=t(61911),g=t(54308),w=t(68492),k=t(76025),D=t(68986),C=t(47609),y=t(46417),E={name:"",tasks:[],publicDate:new Date,endDate:new Date,time:30};function P(){var e=(0,c.s0)(),n=(0,D.Ds)().enqueueSnackbar,t=i.Ry().shape({name:i.Z_().required("Name is required"),publicDate:i.hT().typeError("Public date is required"),endDate:i.hT().typeError("End date is required")}),P=E,S=(0,u.cI)({resolver:(0,d.X)(t),defaultValues:P}),N=S.watch,q=S.setValue,T=S.handleSubmit,_=S.formState.isSubmitting,L=N("tasks"),I=(0,l.useState)([]),B=(0,a.Z)(I,2),R=B[0],W=B[1];(0,l.useEffect)((function(){(0,w.Pq)().then((function(e){W(e.data)}))}),[]);var V=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(s){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,w.$2)(s);case 3:n("Create success!"),e(k.vB.test.list),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),n(t.t0.message||JSON.stringify(t.t0),{variant:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),A=function(e){var n=L;n.includes(e.id)?n=n.filter((function(n){return n!==e.id})):n.push(e.id),q("tasks",n)};return(0,y.jsx)(v.Z,{methods:S,onSubmit:T(V),children:(0,y.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,y.jsxs)(j.ZP,{item:!0,xs:12,md:8,marginTop:-3,children:[(0,y.jsx)(h.Z,{sx:{p:3,my:3},children:(0,y.jsxs)(x.Z,{spacing:3,children:[(0,y.jsx)(g.au,{name:"name",label:"Enter name"}),(0,y.jsx)(b.Z,{name:"publicDate",label:"Enter public date"}),(0,y.jsx)(b.Z,{name:"endDate",label:"Enter end date"}),(0,y.jsx)(g.au,{type:"number",name:"time",label:"Enter time"})]})}),(0,y.jsx)(h.Z,{sx:{p:3,my:2},children:(0,y.jsx)(x.Z,{spacing:3,children:(0,y.jsxs)(x.Z,{spacing:1,children:[(0,y.jsx)(m.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"List Task"}),(0,y.jsx)(x.Z,{direction:"row",spacing:3,children:L.map((function(e){return(0,y.jsx)(p.Z,{clickable:!0,variant:"filled",label:e,color:"success"},e)}))}),(0,y.jsx)(f.Z,{sx:{height:590},children:(0,y.jsx)(C.a,{gridProps:{onRowClick:A}})})]})})})]}),(0,y.jsxs)(j.ZP,{item:!0,xs:12,md:4,children:[(0,y.jsx)(h.Z,{sx:{p:3},children:(0,y.jsx)(x.Z,{spacing:3,children:(0,y.jsx)(g.Cc,{fullWidth:!0,name:"classId",label:"Add to Class",InputLabelProps:{shrink:!0},children:R.map((function(e){return(0,y.jsx)(Z.Z,{value:e.id,children:e.name},e)}))})})}),(0,y.jsx)(x.Z,{direction:"row",spacing:1.5,sx:{mt:3},children:(0,y.jsx)(o.Z,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:_,children:"Create Test"})})]})]})})}var S=t(1857)}}]);