"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[3495],{37903:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),i=t(45987),o=t(9506),a=t(35898),s=t(61113),l=t(3404),c=t(90891),d=t(2135),u=t(46417);function h(e){var n=e.link,t=e.activeLast,i=e.disabled,a=n.name,s=n.href,l=n.icon,h=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),x=(0,u.jsxs)(u.Fragment,{children:[l&&(0,u.jsx)(o.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:l}),a]});return s?(0,u.jsx)(c.Z,{component:d.rU,to:s,sx:h,children:x}):(0,u.jsxs)(o.Z,{sx:h,children:[" ",x," "]})}var x=["links","action","heading","moreLink","activeLast","sx"];function f(e){var n=e.links,t=e.action,d=e.heading,f=e.moreLink,m=e.activeLast,p=e.sx,g=(0,i.Z)(e,x),Z=n[n.length-1].name;return(0,u.jsxs)(o.Z,{sx:(0,r.Z)({mb:5},p),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(o.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:d}),!!n.length&&(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(v,{})},g),{},{children:n.map((function(e){return(0,u.jsx)(h,{link:e,activeLast:m,disabled:e.name===Z},e.name||"")}))}))]}),t&&(0,u.jsxs)(o.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!f&&(0,u.jsx)(o.Z,{sx:{mt:2},children:f.map((function(e){return(0,u.jsx)(c.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function v(){return(0,u.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},68378:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(1413),i=t(45987),o=t(47313),a=t(19860),s=t(9506),l=t(17592),c=t(17551),d=(0,l.ZP)(s.Z)((function(e){var n=e.theme,t=e.ownerState,i="light"===n.palette.mode,o="filled"===t.variant,a="outlined"===t.variant,s="soft"===t.variant,l=(0,r.Z)({},"default"===t.color&&(0,r.Z)((0,r.Z)({},a&&{backgroundColor:"transparent",color:n.palette.text.primary,border:"1px solid ".concat((0,c.Fq)(n.palette.grey[500],.32))}),s&&{color:i?n.palette.text.primary:n.palette.common.white,backgroundColor:(0,c.Fq)(n.palette.grey[500],.16)})),d=(0,r.Z)({},"default"!==t.color&&(0,r.Z)((0,r.Z)((0,r.Z)({},o&&{color:n.palette[t.color].contrastText,backgroundColor:n.palette[t.color].main}),a&&{backgroundColor:"transparent",color:n.palette[t.color].main,border:"1px solid ".concat(n.palette[t.color].main)}),s&&{color:n.palette[t.color][i?"dark":"light"],backgroundColor:(0,c.Fq)(n.palette[t.color].main,.16)}));return(0,r.Z)((0,r.Z)({height:24,minWidth:22,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:n.spacing(0,1),color:n.palette.grey[800],fontSize:n.typography.pxToRem(12),fontFamily:n.typography.fontFamily,backgroundColor:n.palette.grey[300],fontWeight:n.typography.fontWeightBold},d),l)})),u=t(46417),h=["children","color","variant","startIcon","endIcon","sx"],x=(0,o.forwardRef)((function(e,n){var t=e.children,o=e.color,l=void 0===o?"default":o,c=e.variant,x=void 0===c?"soft":c,f=e.startIcon,v=e.endIcon,m=e.sx,p=(0,i.Z)(e,h),g=(0,a.Z)(),Z={width:16,height:16,"& svg, img":{width:1,height:1,objectFit:"cover"}};return(0,u.jsxs)(d,(0,r.Z)((0,r.Z)({ref:n,component:"span",ownerState:{color:l,variant:x},sx:(0,r.Z)((0,r.Z)((0,r.Z)({},f&&{pl:.75}),v&&{pr:.75}),m),theme:g},p),{},{children:[f&&(0,u.jsxs)(s.Z,{sx:(0,r.Z)({mr:.75},Z),children:[" ",f," "]}),t,v&&(0,u.jsxs)(s.Z,{sx:(0,r.Z)({ml:.75},Z),children:[" ",v," "]})]}))}))},16528:function(e,n,t){t.d(n,{Z:function(){return r.Z}});var r=t(68378)},62157:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),i=t(47313);function o(e,n){var t=(0,i.useState)({days:"00",hours:"00",minutes:"00",seconds:"00"}),o=(0,r.Z)(t,2),a=o[0],s=o[1],l=(0,i.useCallback)((function(n){var t=e,r=new Date,i=t.valueOf()-r.valueOf();if(i<0)return s({days:"00",hours:"00",minutes:"00",seconds:"00"}),void(n&&n());var o=Math.floor(i/864e5),a="0".concat(Math.floor(i%864e5/36e5)).slice(-2),l="0".concat(Math.floor(i%36e5/6e4)).slice(-2),c="0".concat(Math.floor(i%6e4/1e3)).slice(-2);s({days:o.toString()||"000",hours:a||"000",minutes:l||"000",seconds:c||"000"})}),[e]);return(0,i.useEffect)((function(){if(n){var e=setInterval((function(){return l((function(){clearInterval(e)}))}),1e3);return function(){return clearInterval(e)}}return function(){}}),[n,l]),{days:a.days,hours:a.hours,minutes:a.minutes,seconds:a.seconds}}},33495:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(47825),i=t(65964),o=t(58467),a=t(37903),s=t(59519),l=t(69889),c=t(29439),d=t(9506),u=t(35898),h=t(61113),x=t(99881),f=t(47313),v=t(68492),m=t(16528),p=t(881),g=t(74165),Z=t(15861),j=t(1550),b=t(5178),y=t(54299),w=t(83929),k=t(33827),S=t(24631),C=t(33249),E=t(24193),T=t(86028),F=t(32703),I=t(62157),_=t(58908),R=t(57276),q=t(46417),D=function(e){var n,t,r=e.testId,i=e.result,o=e.tasks,a=e.time,s=e.available,l=function(){return void 0===i||(0===i.length||0===Object.keys(i).length)};console.log(l());var u=function(){var e=0;return o.forEach((function(n){"ESSAY"===n.taskType?e+=1:e+=n.questions.length})),e},m=(0,f.useState)(a),p=(0,c.Z)(m,2),D=p[0],L=(p[1],(0,f.useState)(new Date)),M=(0,c.Z)(L,2),Y=M[0],A=M[1],W=(0,f.useState)(!1),B=(0,c.Z)(W,2),O=B[0],P=B[1],U=(0,I.Z)(Y,O),z=U.hours,N=U.minutes,G=U.seconds,H=(0,f.useState)(!1),J=(0,c.Z)(H,2),K=J[0],Q=J[1],V=(0,_.Ds)().enqueueSnackbar,$=(0,f.useRef)({idEssayTask:-1,content:""}),X=(0,f.useRef)([]),ee=function(e,n,t){var r=Object.assign(X.current);if("ESSAY"===t){var i=r.find((function(e){return e.idEssayTask===n}));i?i.content=e:r.push({idEssayTask:n,content:e})}else{var o=r.find((function(e){return e.id===n}));o?o.answer=e:r.push({id:n,answer:e})}X.current=r},ne=function(e){var n=e.answers;return l()?(0,q.jsxs)(j.Z,{children:[(0,q.jsx)(b.Z,{id:"demo-row-radio-buttons-group-label",children:e.sentence}),(0,q.jsx)(y.Z,{row:!0,onChange:function(n,t){return ee(t,e.id,"")},"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:n.map((function(e){return(0,q.jsx)(w.Z,{value:e,control:(0,q.jsx)(k.Z,{}),label:e})}))})]},e._id):(0,q.jsx)(j.Z,{children:i.multiple_choice.correctQuestions.find((function(n){return n===e.id}))?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(b.Z,{id:"demo-row-radio-buttons-group-label",sx:{color:"green"},children:e.sentence}),(0,q.jsx)(y.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:n.map((function(n){return n===e.key?(0,q.jsx)(w.Z,{value:n,control:(0,q.jsx)(k.Z,{}),label:n,checked:!0}):(0,q.jsx)(w.Z,{value:n,control:(0,q.jsx)(k.Z,{}),label:n,disabled:!0})}))})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(b.Z,{id:"demo-row-radio-buttons-group-label",sx:{color:"red"},children:e.sentence}),(0,q.jsx)(y.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:n.map((function(e){return(0,q.jsx)(w.Z,{value:e,control:(0,q.jsx)(k.Z,{}),label:e,disabled:!0})}))})]})},e._id)},te=function(e){var n;return l()?(0,q.jsx)(S.Z,{placeholder:"Enter the essay",multiline:!0,maxRows:5,minRows:5,onChange:function(n){return $.current={idEssayTask:e.id,content:n.target.value}}}):(0,q.jsx)(S.Z,{placeholder:"Enter the essay",multiline:!0,maxRows:5,minRows:5,disabled:!0,value:null===i||void 0===i||null===(n=i.essays[0])||void 0===n?void 0:n.content})},re=function(){var e=(0,Z.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Q(!0),(0,R.e)(!1),!o){e.next=15;break}if(-1===$.current.idEssayTask){e.next=9;break}if(""!==$.current.content){e.next=8;break}return V("Unfinished questions remained",{variant:"warning"}),e.abrupt("return");case 8:ee($.current.content,$.current.idEssayTask,"ESSAY");case 9:if(console.log(X.current),!(X.current.length<u())){e.next=13;break}return V("Unfinished questions remained",{variant:"warning"}),e.abrupt("return");case 13:return e.next=15,(0,v.EF)({id:r,data:X.current});case 15:V("Reload the page to check your result!"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),V(e.t0.message||JSON.stringify(e.t0),{variant:"error"});case 21:return e.prev=21,Q(!1),(0,R.e)(!1),e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[0,18,21,25]])})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){var e=function(e){O&&(e.preventDefault(),e.returnValue="")},n=function(){O&&(re(),console.log("User choose leave"))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",n),function(){window.removeEventListener("beforeunload",e),window.removeEventListener("unload",n)}}),[O]),(0,q.jsxs)(d.Z,{sx:{maxWidth:1920,width:"100%",margin:"auto",borderRadius:2,boxShadow:3,overflow:"hidden",backgroundColor:"background.paper"},children:[l()?(0,q.jsx)(d.Z,{sx:{backgroundColor:function(e){return e.palette.primary.main},color:"white",justifyContent:"center",alignItems:"center",flexDirection:"row",display:"flex",padding:2},children:O?(0,q.jsxs)("span",{children:[z," : ",N," : ",G]}):(0,q.jsxs)("span",{children:["00 : ",a," : 00"]})}):(0,q.jsxs)(x.Z,{severity:"success",children:[(0,q.jsx)(C.Z,{children:"Congrats, you finished this exercise!"}),(0,q.jsxs)("span",{children:["Your score:"," ",(0,q.jsx)("span",{style:{color:"greenyellow"},children:null===i||void 0===i||null===(n=i.multiple_choice)||void 0===n?void 0:n.score})," on multiple choices"]}),(null===i||void 0===i?void 0:i.essays)&&(0,q.jsxs)("span",{children:["\xa0 and ",(0,q.jsx)("span",{style:{color:"greenyellow"},children:null===i||void 0===i||null===(t=i.essays[0])||void 0===t?void 0:t.score})," on essay"]})]}),(0,q.jsx)(d.Z,{sx:{padding:2},children:l()?(0,q.jsx)(q.Fragment,{children:O?(0,q.jsx)(q.Fragment,{children:o.map((function(e,n){return(0,q.jsxs)(d.Z,{sx:{marginBottom:2},children:[(0,q.jsxs)(h.Z,{variant:"h6",sx:{marginTop:2,marginBottom:2},children:[n+1,". ",null===e||void 0===e?void 0:e.task]}),(0,q.jsx)(T.Z,{children:null===e||void 0===e?void 0:e.questions.map((function(e){return ne(e)}))}),"ESSAY"===(null===e||void 0===e?void 0:e.taskType)&&(0,q.jsx)(T.Z,{children:te(e)})]},n)}))}):(0,q.jsx)(T.Z,{sx:{m:2},children:(0,q.jsx)(E.Z,{sx:{alignSelf:"center"},size:"large",variant:"contained",color:"warning",onClick:function(){var e=new Date,n=new Date;n.setMinutes(e.getMinutes()+D),A((function(e){return P(!0),(0,R.e)(!0),n}))},disabled:!s,children:"Are you ready?"})})}):(0,q.jsx)(q.Fragment,{children:o.map((function(e,n){return(0,q.jsxs)(d.Z,{sx:{marginBottom:2},children:[(0,q.jsxs)(h.Z,{variant:"h6",sx:{marginTop:2,marginBottom:2},children:[n+1,". ",null===e||void 0===e?void 0:e.task]}),(0,q.jsx)(T.Z,{children:null===e||void 0===e?void 0:e.questions.map((function(e){return ne(e)}))}),"ESSAY"===(null===e||void 0===e?void 0:e.taskType)&&(0,q.jsx)(T.Z,{children:te(e)})]},n)}))})}),(0,q.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",padding:2},children:l()?(0,q.jsx)(q.Fragment,{children:O&&(0,q.jsx)(F.Z,{loading:K,disabled:"00"===z&&"00"===N&&"00"===G,variant:"contained",onClick:re,children:"Submit"})}):(0,q.jsx)(F.Z,{loading:K,disabled:!0,variant:"contained",onClick:re,children:"Submit"})})]})},L=function(e){var n=e.idTest,t=(0,f.useState)(),r=(0,c.Z)(t,2),i=r[0],o=r[1];(0,f.useEffect)((function(){(0,v.WP)(n).then((function(e){o(e.data)}))}),[n]);var a=!0;return(0,p.DY)(null===i||void 0===i?void 0:i.endDate).includes("ago")&&(a=!1),(0,q.jsxs)(d.Z,{children:[(0,q.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(h.Z,{variant:"h3",children:null===i||void 0===i?void 0:i.name}),(0,q.jsxs)(h.Z,{variant:"h3",children:["End ",(0,p.DY)(null===i||void 0===i?void 0:i.endDate)]})]}),(0,q.jsx)(x.Z,{variant:"filled",severity:"info",sx:{my:2},children:"You cannot leave the test once you start!, Any question you have answerd will be calculated as your final result."}),i&&(null===i||void 0===i?void 0:i.tasks.length)>0?(0,q.jsx)(D,{testId:null===i||void 0===i?void 0:i.id,result:null===i||void 0===i?void 0:i.result,tasks:null===i||void 0===i?void 0:i.tasks,time:null===i||void 0===i?void 0:i.time,available:a}):(0,q.jsx)(m.Z,{children:"No Exercises"})]})},M=function(){var e=(0,s.K$)().themeStretch,n=(0,o.UO)(),t=n.idClass,c=n.nameClass,d=n.idTest;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ql,{children:(0,q.jsx)("title",{children:c})}),(0,q.jsxs)(r.Z,{maxWidth:!e&&"lg",children:[(0,q.jsx)(a.Z,{heading:c,links:[{name:"Students",href:l.P.root},{name:"My Class",href:l.P.class.listMyClass},{name:c,href:"".concat(l.P.class.listMyClass,"/").concat(t,"/").concat(c)},{name:"#"}]}),(0,q.jsx)(L,{idTest:d||""})]})]})}}}]);