"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[5785],{37903:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(1413),i=r(45987),a=r(9506),o=r(35898),s=r(61113),c=r(3404),l=r(90891),d=r(2135),u=r(46417);function p(e){var t=e.link,r=e.activeLast,i=e.disabled,o=t.name,s=t.href,c=t.icon,p=(0,n.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},i&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),f=(0,u.jsxs)(u.Fragment,{children:[c&&(0,u.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),o]});return s?(0,u.jsx)(l.Z,{component:d.rU,to:s,sx:p,children:f}):(0,u.jsxs)(a.Z,{sx:p,children:[" ",f," "]})}var f=["links","action","heading","moreLink","activeLast","sx"];function h(e){var t=e.links,r=e.action,d=e.heading,h=e.moreLink,x=e.activeLast,g=e.sx,v=(0,i.Z)(e,f),Z=t[t.length-1].name;return(0,u.jsxs)(a.Z,{sx:(0,n.Z)({mb:5},g),children:[(0,u.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(a.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:d}),!!t.length&&(0,u.jsx)(c.Z,(0,n.Z)((0,n.Z)({separator:(0,u.jsx)(m,{})},v),{},{children:t.map((function(e){return(0,u.jsx)(p,{link:e,activeLast:x,disabled:e.name===Z},e.name||"")}))}))]}),r&&(0,u.jsxs)(a.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!h&&(0,u.jsx)(a.Z,{sx:{mt:2},children:h.map((function(e){return(0,u.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function m(){return(0,u.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},85785:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n=r(47825),i=r(65964),a=r(37903),o=r(59519),s=r(74165),c=r(15861),l=r(1413),d=r(29439),u=r(47313),p=r(9506),f=r(73428),h=r(1550),m=r(61113),x=r(24631),g=r(47131),v=r(99881),Z=r(35898),j=r(96694),b=r(68492),w=r(58908),y=r(16335),k=r(24193),C=r(30404),S=r(46417),R=function(e){var t=e.word,r=(0,w.Ds)().enqueueSnackbar,n=(0,u.useState)(!1),i=(0,d.Z)(n,2),a=i[0],o=i[1],l=(0,u.useState)(null),f=(0,d.Z)(l,2),h=f[0],m=f[1],x=(0,u.useRef)(null),v=(0,u.useRef)([]),Z=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:r=e.sent,x.current=new MediaRecorder(r),x.current.ondataavailable=function(e){v.current.push(e.data)},x.current.onstop=function(){var e=new Blob(v.current,{type:"audio/wav"});v.current=[];var t=URL.createObjectURL(e);m(t),j(e)},x.current.start(),o(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error accessing microphone:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var i,a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("audio",n,"recording.mp3"),e.prev=2,e.next=5,fetch("".concat(C.qL,"/api/ai/analyze-voice?word=").concat(t),{method:"POST",body:i});case 5:return a=e.sent,e.next=8,a.json();case 8:o=e.sent,200===a.status?r(o.message):417===a.status?r(o.message,{variant:"error"}):r("Please try again!",{variant:"error"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error uploading audio:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsx)(p.Z,{sx:{marginTop:2},children:(0,S.jsxs)(p.Z,{sx:{display:"flex"},children:[(0,S.jsx)(k.Z,{variant:"contained",color:"primary",onClick:function(e){return Z(e)},disabled:a,children:"Start"}),(0,S.jsx)(k.Z,{variant:"contained",color:"secondary",onClick:function(e){return e.stopPropagation(),void(x.current&&(x.current.stop(),o(!1)))},disabled:!a,children:"Stop"}),h&&(0,S.jsx)(p.Z,{sx:{marginTop:1},children:(0,S.jsx)(g.Z,{onClick:function(e){return function(e,t){t.stopPropagation(),new Audio(e).play()}(h,e)},children:(0,S.jsx)(y.Z,{icon:"formkit:caretright"})})})]})})},B=r(32703),M=(0,j.Z)(p.Z)((function(e){e.theme;return{perspective:"1000px",width:"".concat(200,"px"),height:"".concat(350,"px")}})),T=(0,j.Z)(p.Z)((function(e){return{position:"relative",width:"100%",height:"100%",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:e.flipped?"rotateY(180deg)":"rotateY(0deg)"}})),L=(0,j.Z)(f.Z)((function(e){e.theme;return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backfaceVisibility:"hidden",overflow:"hidden"}})),A=(0,j.Z)(L)((function(e){e.theme;return{}})),P=(0,j.Z)(L)((function(e){e.theme;return{transform:"rotateY(180deg)"}})),_=function(){var e=(0,w.Ds)().enqueueSnackbar,t=(0,u.useState)([]),r=(0,d.Z)(t,2),n=r[0],i=r[1],a=(0,u.useState)(),o=(0,d.Z)(a,2),f=o[0],j=o[1],k=(0,u.useRef)([]),C=function(){(0,b.iO)().then((function(e){i(e.data.questions),j(e.data.dailyRecord)}))};(0,u.useEffect)((function(){C()}),[]);var L=n.map((function(e){var t=e.definition.split(":");return(0,l.Z)((0,l.Z)({},e),{},{word:e.word.charAt(0).toUpperCase()+e.word.slice(1),pronoun:t[0].trim(),definition:t[1].trim()})})),_=(0,u.useState)(null),z=(0,d.Z)(_,2),D=z[0],I=z[1],N=(0,u.useState)(!1),q=(0,d.Z)(N,2),F=q[0],E=q[1],O=function(e,t){var r=e.question.split("-----");return(0,S.jsx)(h.Z,{sx:{marginBottom:2},children:(0,S.jsxs)(m.Z,{variant:"body1",component:"div",children:["".concat(t+1,".  "),r[0],null!==f&&void 0!==f&&f.todayStatus?(0,S.jsx)(x.Z,{id:"outlined-basic-".concat(t),variant:"outlined",size:"small",disabled:!0,value:e.word,sx:{width:150,verticalAlign:"middle"}}):(0,S.jsx)(x.Z,{id:"outlined-basic-".concat(t),variant:"outlined",size:"small",onChange:function(t){return function(e,t){var r=Object.assign(k.current),n=r.find((function(e){return e.id===t}));n?n.answer=e:r.push({id:t,answer:e}),k.current=r}(t.target.value,e.id)},sx:{width:150,verticalAlign:"middle"}}),r[1]]})},t)},U=function(){var t=(0,c.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,E(!0),console.log(k),t.next=5,(0,b.Jp)({data:k.current});case 5:C(),e("Congrats, you finished today's tasks"),e("You get +1 coin for completing today's tasks"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e(t.t0.message,{variant:"error"});case 13:return t.prev=13,E(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(5, 1fr)"},gap:1,justifyContent:"center"},children:L.map((function(e,t){return(0,S.jsx)(M,{onClick:function(){return function(e){I((function(t){return t===e?null:e}))}(t)},children:(0,S.jsxs)(T,{flipped:D===t,children:[(0,S.jsx)(A,{children:(0,S.jsxs)(p.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:2},children:[(0,S.jsx)(p.Z,{sx:{width:"100%",height:"180px",overflow:"hidden",borderRadius:2,marginBottom:2},children:(0,S.jsx)("img",{src:e.imageLink,alt:e.word,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,S.jsx)(m.Z,{variant:"subtitle1",sx:{fontSize:20,textAlign:"center",userSelect:"none"},children:e.word}),(0,S.jsx)(m.Z,{variant:"subtitle1",sx:{color:"text.secondary",textAlign:"center",marginTop:1},children:e.pronoun}),(0,S.jsx)(g.Z,{onClick:function(t){return function(e,t){t.stopPropagation(),new Audio(e).play()}(e.pronounLink,t)},children:(0,S.jsx)(y.Z,{icon:"formkit:caretright"})}),(0,S.jsx)(R,{word:e.word})]})}),(0,S.jsx)(P,{children:(0,S.jsx)(p.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:2},children:(0,S.jsx)(m.Z,{variant:"body2",sx:{textAlign:"center",color:"text.secondary",wordWrap:"break-word",overflow:"visible",fontSize:16},children:e.definition})})})]})},t)}))}),(null===f||void 0===f?void 0:f.todayStatus)&&(0,S.jsxs)(v.Z,{variant:"filled",severity:"info",sx:{marginTop:3,color:function(e){return"light"===e.palette.mode?"black":"white"}},children:["Come back tomorrow to continue your streak: ",f.progress/5]}),(0,S.jsxs)(p.Z,{sx:{border:"1px solid #ccc",borderRadius:"8px",padding:2,marginTop:3},children:[(0,S.jsx)(m.Z,{variant:"h3",marginTop:5,marginBottom:5,children:"Fill the above words into these sentences"}),(0,S.jsx)(Z.Z,{children:L.map((function(e,t){return O(e,t)}))}),(0,S.jsx)(B.Z,{loading:F,disabled:null===f||void 0===f?void 0:f.todayStatus,variant:"contained",autoFocus:!0,onClick:U,children:"Submit"})]})]})},z=function(){var e=(0,o.K$)().themeStretch;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.ql,{children:(0,S.jsx)("title",{children:"Daily Tasks"})}),(0,S.jsxs)(n.Z,{maxWidth:!e&&"lg",children:[(0,S.jsx)(a.Z,{heading:"Today's Tasks",links:[{name:"Students"},{name:"Daily"}]}),(0,S.jsx)(_,{})]})]})}},3404:function(e,t,r){r.d(t,{Z:function(){return L}});var n=r(93433),i=r(29439),a=r(4942),o=r(87462),s=r(63366),c=r(47313),l=(r(96214),r(83061)),d=r(21921),u=r(17592),p=r(77342),f=r(61113),h=r(17551),m=r(54750),x=r(46417),g=(0,m.Z)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),v=r(38743),Z=(0,u.ZP)(v.Z)((function(e){var t=e.theme;return(0,o.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,o.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,h._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,h._4)(t.palette.grey[600],.12)})})})),j=(0,u.ZP)(g)({width:24,height:16});var b=function(e){var t=e;return(0,x.jsx)("li",{children:(0,x.jsx)(Z,(0,o.Z)({focusRipple:!0},e,{ownerState:t,children:(0,x.jsx)(j,{ownerState:t})}))})},w=r(77430),y=r(32298);function k(e){return(0,y.Z)("MuiBreadcrumbs",e)}var C=(0,w.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),S=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],R=(0,u.ZP)(f.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[(0,a.Z)({},"& .".concat(C.li),t.li),t.root]}})({}),B=(0,u.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),M=(0,u.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function T(e,t,r,n){return e.reduce((function(i,a,o){return o<e.length-1?i=i.concat(a,(0,x.jsx)(M,{"aria-hidden":!0,className:t,ownerState:n,children:r},"separator-".concat(o))):i.push(a),i}),[])}var L=c.forwardRef((function(e,t){var r=(0,p.Z)({props:e,name:"MuiBreadcrumbs"}),a=r.children,u=r.className,f=r.component,h=void 0===f?"nav":f,m=r.expandText,g=void 0===m?"Show path":m,v=r.itemsAfterCollapse,Z=void 0===v?1:v,j=r.itemsBeforeCollapse,w=void 0===j?1:j,y=r.maxItems,C=void 0===y?8:y,M=r.separator,L=void 0===M?"/":M,A=(0,s.Z)(r,S),P=c.useState(!1),_=(0,i.Z)(P,2),z=_[0],D=_[1],I=(0,o.Z)({},r,{component:h,expanded:z,expandText:g,itemsAfterCollapse:Z,itemsBeforeCollapse:w,maxItems:C,separator:L}),N=function(e){var t=e.classes;return(0,d.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},k,t)}(I),q=c.useRef(null),F=c.Children.toArray(a).filter((function(e){return c.isValidElement(e)})).map((function(e,t){return(0,x.jsx)("li",{className:N.li,children:e},"child-".concat(t))}));return(0,x.jsx)(R,(0,o.Z)({ref:t,component:h,color:"text.secondary",className:(0,l.Z)(N.root,u),ownerState:I},A,{children:(0,x.jsx)(B,{className:N.ol,ref:q,ownerState:I,children:T(z||C&&F.length<=C?F:function(e){return w+Z>=e.length?e:[].concat((0,n.Z)(e.slice(0,w)),[(0,x.jsx)(b,{"aria-label":g,onClick:function(){D(!0);var e=q.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,n.Z)(e.slice(e.length-Z,e.length)))}(F),N.separator,L,I)})}))}))},73428:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(87462),i=r(63366),a=r(47313),o=r(83061),s=r(21921),c=r(17592),l=r(77342),d=r(70501),u=r(77430),p=r(32298);function f(e){return(0,p.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var h=r(46417),m=["className","raised"],x=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),g=a.forwardRef((function(e,t){var r=(0,l.Z)({props:e,name:"MuiCard"}),a=r.className,c=r.raised,d=void 0!==c&&c,u=(0,i.Z)(r,m),p=(0,n.Z)({},r,{raised:d}),g=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},f,t)}(p);return(0,h.jsx)(x,(0,n.Z)({className:(0,o.Z)(g.root,a),elevation:d?8:void 0,ref:t,ownerState:p},u))}))}}]);