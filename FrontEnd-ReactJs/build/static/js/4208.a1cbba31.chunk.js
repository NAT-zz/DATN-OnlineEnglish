"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[4208],{23330:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(45987),i=(t(47313),t(75627)),s=t(24631),o=t(63686),c=t(51590),u=t(46417),l=["name","label","helperText"],d=["InputProps"];function p(e){var n=e.name,t=e.label,p=e.helperText,h=(0,a.Z)(e,l),f=(0,i.Gc)(),x=f.control,m=f.setValue,Z=function(){m("".concat(n),null)};return(0,u.jsx)(i.Qr,{name:n,control:x,render:function(e){var n=e.field,i=e.fieldState.error;return(0,u.jsx)(o.M,(0,r.Z)((0,r.Z)({},n),{},{label:t,inputFormat:"dd / MM / yyyy",renderInput:function(e){var t=e.InputProps,o=(0,a.Z)(e,d);return(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},o),h),{},{error:!!i,helperText:i?null===i||void 0===i?void 0:i.message:p,InputProps:{endAdornment:(0,u.jsxs)(u.Fragment,{children:[n.value&&(0,u.jsx)(c.Z,{sx:{cursor:"pointer"},onClick:Z,icon:"material-symbols:close"}),null===t||void 0===t?void 0:t.endAdornment]})}}))}}))}})}},12014:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(1413),a=t(29439),i=t(47313),s=t(68492),o=t(31126),c=t(45987),u=t(9506),l=t(63130),d=t(9209),p=t(50301),h=t(94469),f=t(33604),x=t(96467),m=t(16335),Z=t(46417),v=(0,i.createRef)(),j=(0,i.forwardRef)((function(e,n){return(0,Z.jsx)(p.Z,(0,r.Z)({direction:"up",ref:n},e))})),k=function(){var e=(0,i.useState)(!1),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,i.useState)(""),o=(0,a.Z)(s,2),c=o[0],u=o[1];(0,i.useImperativeHandle)(v,(function(){return{onOpen:l,onClose:d}}));var l=function(e){u(e),r(!0)},d=function(){r(!1)};return(0,Z.jsxs)(h.Z,{open:t,scroll:"paper",id:"order-detail",fullWidth:!0,keepMounted:!1,maxWidth:"lg",PaperProps:{sx:{maxWidth:1920}},onClose:d,TransitionComponent:j,children:[" ",(0,Z.jsxs)(f.Z,{sx:{backgroundColor:function(e){return e.palette.primary.main},color:"white",justifyContent:"space-between",alignItems:"center",flexDirection:"row",display:"flex"},children:[(0,Z.jsx)("span",{children:"Lession Preview"}),(0,Z.jsx)(m.Z,{icon:"eva:close-fill",width:24,onClick:d})]}),(0,Z.jsx)(x.Z,{dividers:!0,children:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})})]})},g=["data"],b=[{field:"id",headerName:"ID",width:80},{field:"topic",headerName:"Topic",width:160},{field:"content",headerName:"Content",width:160,renderCell:function(e){var n=e.value;return(0,Z.jsx)(u.Z,{onClick:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.onOpen(n||"")},component:"img",src:(0,d.vi)("document"),sx:{width:32,height:32,flexShrink:0}})}},{field:"type",headerName:"Lesson Type",width:100},{field:"tasks",headerName:"Tasks ID",valueGetter:function(e){return e.row.tasks.join(",")}},{field:"publicDate",headerName:"Public Date",width:300},{field:"taskEndDate",headerName:"Task End Date",width:300}];function w(e){var n=e.data,t=(0,c.Z)(e,g);return(0,Z.jsx)(l._,(0,r.Z)((0,r.Z)({},t),{},{columns:b,rows:n}))}var y=function(e){var n=e.gridProps,t=(0,i.useState)([]),c=(0,a.Z)(t,2),u=c[0],l=c[1];return(0,i.useEffect)((function(){(0,s.tj)().then((function(e){l(e.data)}))}),[]),u.length<1?(0,Z.jsx)(o.hM,{}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(w,(0,r.Z)({data:u},n)),(0,Z.jsx)(k,{})]})}},84208:function(e,n,t){t.d(n,{W:function(){return q},E:function(){return D.Z}});var r=t(29439),a=t(74165),i=t(15861),s=t(21933),o=t(58467),c=t(47313),u=t(62563),l=t(75627),d=t(32703),p=t(73428),h=t(35898),f=t(61113),x=t(66212),m=t(9506),Z=t(9019),v=t(51405),j=t(68492),k=t(23330),g=t(18094),b=t(59864),w=t(76025),y=t(68986),T=t(54308),C=t(47609),S=t(46417),P={topic:"",content:"",tasks:[],type:"LESSON",publicDate:new Date,taskEndDate:new Date};function q(){var e=(0,o.s0)(),n=(0,y.Ds)().enqueueSnackbar,t=s.Ry().shape({topic:s.Z_().required("Topic is required"),content:s.Z_().required("Content is required"),publicDate:s.hT().typeError("Public date is required"),taskEndDate:s.hT().typeError("Task End date is required"),type:s.Z_().required("Type is required")}),q=P,D=(0,l.cI)({resolver:(0,u.X)(t),defaultValues:q}),E=D.watch,I=D.setValue,_=D.handleSubmit,N=D.formState.isSubmitting,L=E("tasks"),M=E("content"),R=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,j.aA)(r);case 3:n("Create success!"),e(w.vB.lesson.list),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),n(t.t0.message||JSON.stringify(t.t0),{variant:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),W=(0,c.useState)([]),H=(0,r.Z)(W,2),O=H[0],A=H[1];(0,c.useEffect)((function(){(0,j.Pq)().then((function(e){A(e.data)}))}),[]);var F=function(e){var n=L;n.includes(e.id)?n=n.filter((function(n){return n!==e.id})):n.push(e.id),I("tasks",n)},B=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",n),r={method:"post",maxBodyLength:1/0,url:"/api/upload",data:t},e.next=5,b.Z.request(r);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",n),r={method:"post",maxBodyLength:1/0,url:"/api/upload-ext",data:t},e.next=5,b.Z.request(r);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",n),r={method:"post",maxBodyLength:1/0,url:"/api/upload",data:t},e.next=5,b.Z.request(r);case 5:return i=e.sent,s=i.data.split("/").pop(),o=s.split(".")[0],e.abrupt("return","https://player.cloudinary.com/embed/?public_id=file%2F".concat(o,"&cloud_name=natscloud&profile=cld-default"));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,S.jsx)(T.ZP,{methods:D,onSubmit:_(R),children:(0,S.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,S.jsxs)(Z.ZP,{item:!0,xs:12,md:8,marginTop:-3,children:[(0,S.jsx)(p.Z,{sx:{p:3,my:3},children:(0,S.jsxs)(h.Z,{spacing:3,children:[(0,S.jsx)(T.au,{name:"topic",label:"Enter topic"}),(0,S.jsx)(g.Z,{onChange:function(e){I("content",e)},simple:!0,value:M,imageHandler:B,videoHandler:G,audioHandler:B,fileHandler:V}),(0,S.jsx)(k.Z,{name:"publicDate",label:"Enter public date"}),(0,S.jsx)(k.Z,{name:"taskEndDate",label:"Enter task end date"})]})}),(0,S.jsx)(p.Z,{sx:{p:3,my:2},children:(0,S.jsx)(h.Z,{spacing:3,children:(0,S.jsxs)(h.Z,{spacing:1,children:[(0,S.jsx)(f.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"List Task"}),(0,S.jsx)(h.Z,{direction:"row",spacing:3,children:L.map((function(e){return(0,S.jsx)(x.Z,{clickable:!0,variant:"filled",label:e,color:"success"},e)}))}),(0,S.jsx)(m.Z,{sx:{height:590},children:(0,S.jsx)(C.a,{gridProps:{onRowClick:F}})})]})})})]}),(0,S.jsxs)(Z.ZP,{item:!0,xs:12,md:4,children:[(0,S.jsx)(p.Z,{sx:{p:3},children:(0,S.jsx)(h.Z,{spacing:3,children:(0,S.jsx)(T.Cc,{fullWidth:!0,name:"type",label:"Type",InputLabelProps:{shrink:!0},children:["LESSON","TASKS"].map((function(e){return(0,S.jsx)(v.Z,{value:e,children:e},e)}))})})}),(0,S.jsx)(p.Z,{sx:{p:3,mt:2},children:(0,S.jsx)(h.Z,{spacing:3,children:(0,S.jsx)(T.Cc,{fullWidth:!0,name:"classId",label:"Add to Class",InputLabelProps:{shrink:!0},children:O.map((function(e){return(0,S.jsx)(v.Z,{value:e.id,children:e.name},e)}))})})}),(0,S.jsx)(h.Z,{direction:"row",spacing:1.5,sx:{mt:3},children:(0,S.jsx)(d.Z,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:N,children:"Create Lesson"})})]})]})})}var D=t(12014)},74248:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),a=t(29439),i=t(47313),s=t(68492),o=t(31126),c=t(45987),u=t(63130),l=t(46417),d=["data"],p=[{field:"id",headerName:"ID",width:80},{field:"task",headerName:"Task",width:160},{field:"topic",headerName:"Topic",width:160},{field:"taskType",headerName:"Task Type",width:100},{field:"questions",headerName:"Questions ID",flex:1,valueGetter:function(e){return e.row.questions.map((function(e){return e.id})).join(",")}},{field:"action",headerName:" ",width:80,align:"right",sortable:!1,disableColumnMenu:!0}];function h(e){var n=e.data,t=(0,c.Z)(e,d);return(0,l.jsx)(u._,(0,r.Z)((0,r.Z)({},t),{},{columns:p,rows:n}))}var f=function(e){var n=e.gridProps,t=(0,i.useState)([]),c=(0,a.Z)(t,2),u=c[0],d=c[1];return(0,i.useEffect)((function(){(0,s.Ak)().then((function(e){d(e.data)}))}),[]),u.length<1?(0,l.jsx)(o.hM,{}):(0,l.jsx)(h,(0,r.Z)({data:u},n))}},47609:function(e,n,t){t.d(n,{t:function(){return y},a:function(){return T.Z}});var r=t(74165),a=t(15861),i=t(21933),s=t(58467),o=(t(47313),t(62563)),c=t(75627),u=t(32703),l=t(73428),d=t(35898),p=t(61113),h=t(66212),f=t(9506),x=t(9019),m=t(51405),Z=t(68492),v=t(76025),j=t(68986),k=t(54308),g=t(46694),b=t(46417),w={task:"",questions:[],topic:"",taskType:"MULTIPLE_CHOICE"};function y(){var e=(0,s.s0)(),n=(0,j.Ds)().enqueueSnackbar,t=i.Ry().shape({task:i.Z_().required("task is required"),topic:i.Z_().required("topic is required"),taskType:i.Z_().required("taskType is required")}),y=w,T=(0,c.cI)({resolver:(0,o.X)(t),defaultValues:y}),C=(T.reset,T.watch),S=T.setValue,P=T.handleSubmit,q=T.formState.isSubmitting,D=C("questions"),E=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,Z.vr)(a);case 3:n("Create success!"),e(v.vB.task.list),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),n(t.t0.message||JSON.stringify(t.t0),{variant:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),I=function(e){var n=D;n.includes(e.id)?n=n.filter((function(n){return n!==e.id})):n.push(e.id),S("questions",n)};return(0,b.jsx)(k.ZP,{methods:T,onSubmit:P(E),children:(0,b.jsxs)(x.ZP,{container:!0,spacing:3,children:[(0,b.jsxs)(x.ZP,{item:!0,xs:12,md:8,marginTop:-3,children:[(0,b.jsx)(l.Z,{sx:{p:3,my:3},children:(0,b.jsxs)(d.Z,{spacing:3,children:[(0,b.jsx)(k.au,{name:"task",label:"Enter task"}),(0,b.jsx)(k.au,{name:"topic",label:"Enter topic"})]})}),(0,b.jsx)(l.Z,{sx:{p:3,my:2},children:(0,b.jsx)(d.Z,{spacing:3,children:(0,b.jsxs)(d.Z,{spacing:1,children:[(0,b.jsx)(p.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"List Question"}),(0,b.jsx)(d.Z,{direction:"row",spacing:3,children:D.map((function(e){return(0,b.jsx)(h.Z,{clickable:!0,variant:"filled",label:e,color:"success"},e)}))}),(0,b.jsx)(f.Z,{sx:{height:590},children:(0,b.jsx)(g.o,{gridProps:{onRowClick:I}})})]})})})]}),(0,b.jsxs)(x.ZP,{item:!0,xs:12,md:4,children:[(0,b.jsx)(l.Z,{sx:{p:3},children:(0,b.jsx)(d.Z,{spacing:3,children:(0,b.jsx)(k.Cc,{fullWidth:!0,name:"taskType",label:"Task type",InputLabelProps:{shrink:!0},children:["MULTIPLE_CHOICE","ESSAY"].map((function(e){return(0,b.jsx)(m.Z,{value:e,children:e},e)}))})})}),(0,b.jsx)(d.Z,{direction:"row",spacing:1.5,sx:{mt:3},children:(0,b.jsx)(u.Z,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:q,children:"Create task"})})]})]})})}var T=t(74248)},33604:function(e,n,t){var r=t(87462),a=t(63366),i=t(47313),s=t(83061),o=t(21921),c=t(61113),u=t(17592),l=t(77342),d=t(93174),p=t(63909),h=t(46417),f=["className","id"],x=(0,u.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),m=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),c=t.className,u=t.id,m=(0,a.Z)(t,f),Z=t,v=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},d.a,n)}(Z),j=i.useContext(p.Z).titleId,k=void 0===j?u:j;return(0,h.jsx)(x,(0,r.Z)({component:"h2",className:(0,s.Z)(v.root,c),ownerState:Z,ref:n,variant:"h6",id:k},m))}));n.Z=m}}]);